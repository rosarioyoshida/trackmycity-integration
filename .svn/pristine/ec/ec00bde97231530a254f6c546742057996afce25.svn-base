package br.com.trackmycity.jpa_helper;

import javax.persistence.EntityManager;
import javax.persistence.EntityManagerFactory;
import javax.persistence.Persistence;

import br.com.trackmycity.models.Address;
import br.com.trackmycity.models.AlertSubType;
import br.com.trackmycity.models.AlertType;
import br.com.trackmycity.models.City;
import br.com.trackmycity.models.Country;
import br.com.trackmycity.models.District;
import br.com.trackmycity.models.State;
import br.com.trackmycity.models.UserAlert;

public class InitializeDataBase {
	
	public static void main(String[] args) {
		EntityManagerFactory emf = Persistence.createEntityManagerFactory("trackmycity");
		EntityManager em = emf.createEntityManager();
		em.getTransaction().begin();
		
		Country country = new Country();
		country.setName("Brasil");
		
		State state = new State();
		state.setName("São Paulo");
		state.setUf("SP");
		
		City city = new City("São Paulo");
		District district = new District("Barra Funda");
		city.addDistrict(district);
		state.addCity(city);
		
		
		country.addState(state);
		
		em.persist(country);
		
		AlertType alertType = new AlertType("AlertType 1", "Descricao 1", "icon 1");
		AlertSubType alertSubType = new AlertSubType("Alert Subtype 1", "icon subtype 1");
		alertType.addSubtype(alertSubType);
		
		em.persist(alertType);
		
		UserAlert userAlert = new UserAlert("User description", "foto", 123.35d, -256.36d, new Address("Rua Conselheiro Brotero", "573", district), alertSubType);
		
		em.persist(userAlert);
		
		
		em.getTransaction().commit();
		em.close();
		emf.close();
	}
	
}

