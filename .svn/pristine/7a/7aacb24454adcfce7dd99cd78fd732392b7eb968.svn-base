package br.com.trackmycity.rest.controller;

import javax.inject.Inject;
import javax.ws.rs.Consumes;
import javax.ws.rs.POST;
import javax.ws.rs.Path;
import javax.ws.rs.Produces;

import org.slf4j.Logger;

import br.com.trackmycity.dao.UserDAO;
import br.com.trackmycity.interceptors.Transactional;
import br.com.trackmycity.models.User;
import br.com.trackmycity.producers.Log;
import br.com.trackmycity.rest.bean.MediaType;

@Path("user")
public class UserController {
	
	@Inject private UserDAO userDAO;
	@Inject @Log private Logger logger;
	
	@Transactional
	@POST @Path("/") @Consumes(MediaType.APPLICATION_JSON) @Produces(MediaType.APPLICATION_JSON)
	public User register(User newUser) {
		User user = userDAO.merge(newUser);
		return user;
	}

}
